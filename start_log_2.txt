 storage Skipped - Image is already present locally 
 imgProxy Skipped - Image is already present locally 
 edgeRuntime Skipped - Image is already present locally 
 analytics Skipped - Image is already present locally 
 vector Skipped - Image is already present locally 
 api Skipped - Image is already present locally 
 realtime Skipped - Image is already present locally 
 db Skipped - Image is already present locally 
 studio Skipped - Image is already present locally 
 pgmeta Skipped - Image is already present locally 
 gateway Skipped - Image is already present locally 
 auth Skipped - Image is already present locally 
 mailpit Skipped - Image is already present locally 
Starting database...
Initialising schema...
Seeding globals from roles.sql...
Skipping migration _TEMPLATE.sql... (file name must match pattern "<timestamp>_name.sql")
Applying migration 20251017221509_create_initial_schema.sql...
Applying migration 20251018192334_add_customer_type_to_sale_tickets.sql...
Applying migration 20251018205246_add_addons_to_ticket_items.sql...
Applying migration 20251019180341_remove_commission_and_payout_fields.sql...
Applying migration 20251020065849_add_pin_authentication.sql...
Applying migration 20251020070519_add_role_permissions.sql...
Applying migration 20251020072200_create_multi_store_schema.sql...
Applying migration 20251020073535_20251020072800_fix_stores_rls.sql...
Applying migration 20251020074037_20251020073535_fix_stores_rls_for_anon.sql...
Applying migration 20251020075933_add_employee_stores_junction_table.sql...
Applying migration 20251020080544_remove_default_store_id_column.sql...
Applying migration 20251020081016_fix_employee_stores_rls_for_anon.sql...
Applying migration 20251020085819_remove_subtotal_columns.sql...
Applying migration 20251020090627_add_customer_phone_field.sql...
Applying migration 20251020093916_add_multiple_roles_support.sql...
Applying migration 20251020094648_add_ticket_audit_fields.sql...
Applying migration 20251020095111_create_ticket_activity_log.sql...
Applying migration 20251020095524_fix_activity_log_rls_for_anon.sql...
Applying migration 20251020095536_backfill_existing_ticket_activities.sql...
Applying migration 20251020101619_add_pin_verification_function.sql...
Applying migration 20251020101643_add_pin_management_functions.sql...
Applying migration 20251020101711_enable_pgcrypto_extension.sql...
NOTICE (42710): extension "pgcrypto" already exists, skipping
Applying migration 20251020101731_fix_pin_functions_with_pgcrypto_schema.sql...
Applying migration 20251020103000_create_technician_ready_queue.sql...
Applying migration 20251020103100_create_queue_triggers.sql...
NOTICE (00000): trigger "ticket_items_mark_busy" for relation "ticket_items" does not exist, skipping
NOTICE (00000): trigger "sale_tickets_mark_available" for relation "sale_tickets" does not exist, skipping
Applying migration 20251020110152_add_estimated_completion_time_to_technician_queue.sql...
Applying migration 20251020110447_add_service_popularity_function.sql...
Applying migration 20251020110715_fix_service_popularity_function_types.sql...
Applying migration 20251020110852_fix_usage_count_type_in_popularity_function.sql...
Applying migration 20251020112512_add_pay_type_to_employees.sql...
Applying migration 20251020113941_create_attendance_records_table.sql...
Applying migration 20251020121729_add_set_employee_pin_function.sql...
Applying migration 20251020122319_create_attendance_comments_table.sql...
Applying migration 20251020122436_update_get_store_attendance_with_record_id.sql...
Applying migration 20251020123439_add_ticket_approval_system.sql...
NOTICE (00000): trigger "trigger_set_approval_deadline" for relation "sale_tickets" does not exist, skipping
Applying migration 20251020123517_create_auto_approval_cron_job.sql...
Applying migration 20251020132722_fix_security_and_performance_issues.sql...
NOTICE (42P07): relation "idx_attendance_comments_employee_id" already exists, skipping
NOTICE (00000): function verify_employee_pin(uuid,text) does not exist, skipping
NOTICE (00000): function get_store_attendance(uuid,date) does not exist, skipping
Applying migration 20251020132957_add_addon_columns_to_ticket_items.sql...
Applying migration 20251020133206_add_customer_type_column.sql...
Applying migration 20251020133356_create_technician_queue_and_sorting_functions.sql...
Stopping containers...
ERROR: cannot change return type of existing function (SQLSTATE 42P13)    
Row type defined by OUT parameters is different.                          
At statement: 2                                                           
-- Function: Get sorted technicians for ticket editor                     
CREATE OR REPLACE FUNCTION get_sorted_technicians_for_store(              
  p_store_id uuid                                                         
)                                                                         
RETURNS TABLE (                                                           
  employee_id uuid,                                                       
  legal_name text,                                                        
  display_name text,                                                      
  queue_status text,                                                      
  queue_position integer,                                                 
  ready_at timestamptz,                                                   
  current_open_ticket_id uuid,                                            
  open_ticket_count integer                                               
)                                                                         
LANGUAGE plpgsql                                                          
STABLE                                                                    
SET search_path = public, pg_temp                                         
AS $$                                                                     
BEGIN                                                                     
  RETURN QUERY                                                            
  WITH employee_open_tickets AS (                                         
    SELECT                                                                
      ti.employee_id,                                                     
      COUNT(*) as ticket_count,                                           
      MIN(st.opened_at) as oldest_ticket_at                               
    FROM ticket_items ti                                                  
    JOIN sale_tickets st ON ti.sale_ticket_id = st.id                     
    WHERE st.closed_at IS NULL                                            
      AND st.store_id = p_store_id                                        
    GROUP BY ti.employee_id                                               
  ),                                                                      
  queue_positions AS (                                                    
    SELECT                                                                
      trq.employee_id,                                                    
      trq.status,                                                         
      trq.ready_at,                                                       
      trq.current_open_ticket_id,                                         
      ROW_NUMBER() OVER (ORDER BY trq.ready_at ASC) as position           
    FROM technician_ready_queue trq                                       
    WHERE trq.store_id = p_store_id                                       
      AND trq.status = 'ready'                                            
  )                                                                       
  SELECT                                                                  
    e.id as employee_id,                                                  
    e.legal_name,                                                         
    e.display_name,                                                       
    CASE                                                                  
      WHEN eot.ticket_count > 0 THEN 'busy'                               
      WHEN qp.employee_id IS NOT NULL AND qp.status = 'ready' THEN 'ready'
      ELSE 'neutral'                                                      
    END as queue_status,                                                  
    COALESCE(qp.position::integer, 0) as queue_position,                  
    qp.ready_at,                                                          
    qp.current_open_ticket_id,                                            
    COALESCE(eot.ticket_count::integer, 0) as open_ticket_count           
  FROM employees e                                                        
  LEFT JOIN queue_positions qp ON e.id = qp.employee_id                   
  LEFT JOIN employee_open_tickets eot ON e.id = eot.employee_id           
  WHERE e.status = 'Active'                                               
    AND 'Technician' = ANY(e.role)                                        
    AND EXISTS (                                                          
      SELECT 1 FROM employee_stores es                                    
      WHERE es.employee_id = e.id                                         
      AND es.store_id = p_store_id                                        
    )                                                                     
  ORDER BY                                                                
    CASE                                                                  
      WHEN eot.ticket_count > 0 THEN 3                                    
      WHEN qp.employee_id IS NOT NULL AND qp.status = 'ready' THEN 1      
      ELSE 2                                                              
    END,                                                                  
    qp.ready_at ASC NULLS LAST,                                           
    e.display_name ASC;                                                   
END;                                                                      
$$                                                                        
Try rerunning the command with --debug to troubleshoot the error.
